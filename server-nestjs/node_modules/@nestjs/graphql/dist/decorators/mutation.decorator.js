"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const shared_utils_1 = require("@nestjs/common/utils/shared.utils");
const optional = require("optional");
const resolvers_enum_1 = require("../enums/resolvers.enum");
const resolvers_utils_1 = require("./resolvers.utils");
const { Mutation: TypeGqlMutation } = optional('type-graphql') || {};
function Mutation(nameOrType, options) {
    return (target, key, descriptor) => {
        const name = shared_utils_1.isString(nameOrType)
            ? nameOrType
            : (options && options.name) || undefined;
        resolvers_utils_1.addResolverMetadata(resolvers_enum_1.Resolvers.MUTATION, name, target, key, descriptor);
        if (nameOrType && !shared_utils_1.isString(nameOrType)) {
            TypeGqlMutation &&
                TypeGqlMutation(nameOrType, options)(target, key, descriptor);
        }
    };
}
exports.Mutation = Mutation;
